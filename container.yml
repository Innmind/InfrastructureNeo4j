dependencies:
    transport @innmind/http-transport/container.yml: []
    eventBus @innmind/event-bus/container.yml:
        listeners: $listeners

expose:
    commands: $commands

services:
    commands Innmind\CLI\Commands:
        - $command.install
        - $command.setupUser

    command:
        install Innmind\Infrastructure\Neo4j\Command\Install:
            - $server
        setupUser Innmind\Infrastructure\Neo4j\Command\SetupUser:
            - $server
            - $transport.conservative
            - $eventBus.bus

    listeners map<string, Innmind\Immutable\SetInterface>: []

    server Innmind\Server\Control\ServerFactory::build: []
